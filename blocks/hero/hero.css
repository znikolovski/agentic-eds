.hero {
  --gradient-start: rgb(var(--color-dark-base) / 80%);
  --gradient-end: rgb(var(--color-dark-base) / 20%);
  --default-min-height: 360px;
  --min-height: var(--default-min-height);

  position: relative;
  color: #fff;
  overflow: hidden;

  &.small {
    --min-height: 180px;
  }

  &.large {
    --min-height: 720px;
  }

  &.full {
    --min-height: calc(100vh - var(--header-height));
  }

  &.light {
    --gradient-start: rgb(var(--color-light-base) / 80%);

    color: var(--color-dark);
  }

  &.dark {
    color: var(--color-light);
  }

  &.quiet-background {
    .hero-background div::after {
      content: '';
      position: absolute;
      inset: 0;
      backdrop-filter: blur(200px);
      mask-image: linear-gradient(to right bottom, rgb(0 0 0 / 80%) 40%, rgb(0 0 0 / 20%) 125%);
    }
  }

  &.hero-text-start {
    img {
      object-position: 10% 50%;
    }
  }

  &.hero-text-end {
    img {
      object-position: 90% 50%;
    }
  }

  .hero-background {
    picture {
      position: absolute;
      inset: 0;
    }

    img {
      display: block;
      object-fit: cover;
      width: 100%;
      height: 100%;
    }

    > div {
      /* Used for quiet-background */
      background-color: var(--color-background);
      position: absolute;
      inset: 0;
    }

    video {
      object-fit: cover;
      width: 100%;
      height: 100%;
    }
  }

  .hero-foreground {
    min-height: var(--min-height);
    padding: var(--spacing-xxl) 0;
    box-sizing: border-box;
    position: relative;
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    background: linear-gradient(90deg, var(--gradient-start) 0%, var(--gradient-end) 100%);

    p {
      margin: 8px 0;
    }

    .fg-text {
      width: var(--grid-container-width);
      margin: 0 auto;
    }

    div > *:first-child {
      margin-top: 0;
    }

    div > *:last-child {
      margin-bottom: 0;
    }

    .hero-detail {
      margin: 0;
    }

    .hero-heading {
      margin: 0;
    }
  }

  &.center {
    .hero-foreground {
      justify-content: center;
      text-align: center;
    }
  }

  &.stack {
    .hero-background {
      > div {
        min-height: var(--default-min-height);
        position: relative;
      }
    }

    .hero-foreground {
      background: #111;
    }

    &.light {
      .hero-foreground {
        background: #f9f9f9;
      }
    }

    &.hero-text-start {
      img {
        object-position: 80% 50%;
      }
    }

    &.hero-text-end {
      img {
        object-position: 20% 50%;
      }
    }
  }
}

@media (width >= 600px) {
  .hero {
    .hero-foreground {
      display: grid;
      grid-template-columns: 45% 45%;
      justify-content: space-between;
      max-width: var(--grid-container-width);
      margin: 0 auto;
      background: unset;

      .fg-text {
        width: unset;
        margin: unset;
      }
    }

    &.center {
      .hero-foreground {
        display: flex;
      }
    }

    &.stack {
      .hero-background {
        > div {
          position: absolute;
        }
      }

      .hero-foreground {
        background: unset;
      }

      &.hero-text-start {
        img {
          object-position: 0% 50%;
        }
      }

      &.hero-text-end {
        img {
          object-position: 100% 50%;
        }
      }
    }
  }
}

@container (width < 400px) {
  .layout-bento .hero .hero-foreground {
    grid-template-columns: 1fr;
  }
}

/* stylelint-disable no-descending-specificity -- card is an independent variant */

/* Card variant */
.hero.card {
  --hero-card-radius: 12px;
  --hero-card-pill: 999px;

  color: var(--color-text);
  background: var(--color-shaded);
  min-height: 400px;
  display: flex;
  align-items: center;

  .hero-background {
    picture {
      position: absolute;
      inset: 0;
    }

    img {
      display: block;
      object-fit: cover;
      width: 100%;
      height: 100%;
    }

    video {
      object-fit: cover;
      width: 100%;
      height: 100%;
    }
  }

  .hero-foreground {
    background: none;
    min-height: unset;
    padding: var(--spacing-xxl) var(--spacing-l);
    display: block;
    position: relative;

    .fg-text {
      background: var(--color-background);
      border-radius: var(--hero-card-radius);
      padding: var(--spacing-xl);
      max-width: 600px;
    }
  }

  .hero-heading {
    font-size: 36px;
    line-height: 1.2;
    font-weight: 700;
  }

  .hero-foreground p:not(.btn-group) {
    color: var(--color-gray-700);
    font-size: var(--body-font-size-l);
    line-height: 1.4;
  }

  .btn-group {
    display: flex;
    flex-wrap: wrap;
    gap: var(--spacing-m);
    margin-top: var(--spacing-xl);
  }

  .btn {
    border-radius: var(--hero-card-pill);
    padding: 12px 24px;
    font-weight: 600;
    font-size: var(--body-font-size-m);
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 140px;
    box-sizing: border-box;
  }
}

@media (width >= 600px) {
  .hero.card {
    min-height: 500px;
    padding: var(--spacing-xxl) 0;

    .hero-foreground {
      display: block;
      width: 100%;
      max-width: var(--grid-container-width);
      margin: 0 auto;
      padding: 0;
    }

    .hero-heading {
      font-size: 48px;
      line-height: 1.2;
    }
  }
}

@media (width >= 900px) {
  .hero {
    .hero-foreground {
      grid-template-columns: 40% 40%;
    }
  }

  .hero.card {
    min-height: 600px;
  }
}

@media (width >= 1200px) {
  .hero {
    .hero-foreground {
      grid-template-columns: 33% 33%;
    }
  }
}
